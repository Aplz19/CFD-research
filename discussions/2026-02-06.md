# Discussion - February 6, 2026

## Session Summary
Worked through the design and logic of the RHS advection function for Module A1. Focused on understanding MATLAB function mechanics and building the LLF flux computation with periodic boundary conditions.

## Key Topics

### MATLAB Function Basics
- Function inputs (geom, params, U) are defined elsewhere and passed in — the function just uses them
- Can access struct fields directly (e.g., `params.a`) or pull them into local variables for convenience
- Vectorized operations: `pf = a * U` multiplies every element, works even if pf was pre-initialized with zeros

### RHS Function Structure
- Inputs: U, t, geom, params
- Physical flux vector: `pf = a * U` (size Nx, one per cell)
- LLF numerical flux vector: size Nf (one per face), computed in a loop
- Residual vector: `L(i) = -(1/dx(i)) * (LLF(i+1) - LLF(i))`

### LLF Flux with Periodic BCs
- Face 1 and face Nf are the same physical location in a periodic domain
- For face 1: left neighbor is cell Nx (wraps around)
- Initial code had three bugs: used Nx-1 instead of Nx, assigned LLF(i) = LLF(Nf) before Nf was computed, and else branch had out-of-bounds indexing
- All three fixed in second iteration

### Bugs Fixed (from previous session's code)
- `READGRID_1D.m`: `zeros(Nf)` → `zeros(Nf,1)`
- `GEOM_1D.m`: `gird.Nf` → `grid.Nf`

## MATLAB Syntax Learned
- `if / elseif / else / end` structure
- `==` for equality, `~=` for not equal
- Vector indexing: `pf(Nx-1)`, `U(i+1)`
- `else` needs no condition

## Next Steps
- Finish writing the RHS function file
- Build SSPRK time steppers or bring them in from Module 0
- Create main driver script
